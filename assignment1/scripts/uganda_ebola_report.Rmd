---
title: "Uganda Ebola Outbreak Report"
author: "James Azam & Marijn Hazelbag"
date: "13/01/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(readr)
library(dplyr)
library(ggplot2)
library(incidence)
```
```{r echo=FALSE, message=FALSE}
ebola_dat <- read_csv(file = '../data/ebola_1.csv') %>% 
    arrange(reportDate)
first_reporting_date <- pull(ebola_dat, reportDate)[1]
last_reporting_date <- pull(ebola_dat, reportDate)[nrow(ebola_dat)]
cases_per_hh <- ebola_dat %>% count(householdID) ## stratify by the unique households and count the number of cases per household
n_households <- length(unique(ebola_dat$householdID))
total_cases <- sum(cases_per_hh$n)
total_confirmed <- as.numeric(table(ebola_dat$status)['confirmed'])
total_probable <- as.numeric(table(ebola_dat$status)['probable'])
total_suspected <- as.numeric(table(ebola_dat$status)['suspected'])
max_cases <- max(cases_per_hh$n) ## maximum number of cases in the households
n_hh_max_cases <- length(which(max(cases_per_hh$n) == cases_per_hh$n)) ## how many households have the maximum number of cases?
mean_cases_per_hh <- mean(table(ebola_dat$householdID))

## create the incidence object from the data
ebola_inc <- incidence(ebola_dat$onsetDate, groups = ebola_dat$status)
```
## The ongoing Ebola outbreak in Uganda, 2019/2020
The first Ebola virus disease (EVD) case was reported in Uganda on `r first_reporting_date`. It has been `r ebola_inc$timespan` days since the first case was reported. As of `r last_reporting_date`, there have been `r total_cases` reported cases in `r n_households` unique households. Out of the total cases, `r total_confirmed` are confirmed, `r total_probable` probable, and `r total_suspected` suspected. The average number 
of cases per households reporting cases is `r mean_cases_per_hh`, with `r n_hh_max_cases` households reporting up to `r max_cases` cases. 

The incidence curve below summarises the reported information.
```{r echo=FALSE, message=FALSE}
plot(ebola_inc, xlab = 'Date of onset')
```

## Additional data required
- Demographic (gender, age): For inference on force of infection as a function of possible interactions in school, etc
- GIS locations of households: For inferences on social interractions
